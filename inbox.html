<!doctype html>
<html lang="cs">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DoruÄenÃ© â€“ Online Hry IS</title>
<link rel="stylesheet" href="assets/css/styles.css" />
<script type="module">
import { listInbox, markRead } from './assets/js/messages.js';
document.addEventListener('DOMContentLoaded', () => {
const tbody = document.querySelector('tbody');
const items = listInbox();
tbody.innerHTML = items.map(m => `
<tr class="${m.isRead ? '' : 'row-unread'}">
<td>${m.sender}</td>
<td>${m.subject}</td>
<td>${new Date(m.createdAt).toLocaleString()}</td>
<td>${m.isRead ? 'pÅ™eÄteno' : '<b>novÃ©</b>'}</td>
<td><button data-id="${m.id}">OznaÄit jako pÅ™eÄtenÃ©</button></td>
</tr>`).join('');
tbody.addEventListener('click', (e) => {
if (e.target.tagName === 'BUTTON') {
markRead(e.target.dataset.id);
e.target.closest('tr').classList.remove('row-unread');
e.target.closest('tr').children[3].innerHTML = 'pÅ™eÄteno';
}
});
});
</script>
</head>
<body>
<header class="nav">
<div class="brand">ğŸ® Online Hry IS</div>
<nav>
<a href="index.html">DomÅ¯</a>
<a href="register.html">Registrace</a>
<a href="login.html">PÅ™ihlÃ¡Å¡enÃ­</a>
<a href="inbox.html" aria-current="page">DoruÄenÃ©</a>
<a href="sent.html">OdeslanÃ©</a>
<a href="compose.html">Napsat</a>
</nav>
</header>


<main class="container">
<section class="card">
<h1>DoruÄenÃ©</h1>
<table class="table">
<thead><tr><th>Od</th><th>PÅ™edmÄ›t</th><th>Datum</th><th>Stav</th><th>Akce</th></tr></thead>
<tbody></tbody>
</table>
</section>
</main>
</body>
</html>