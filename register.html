<?php
require_once __DIR__.'/../config/session.php';
require_once __DIR__.'/../config/security.php';
?>
<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Registrace ‚Äì Online Hry IS</title>
  <link rel="stylesheet" href="assets/css/styles.css" />
  <script type="module" src="assets/js/validate.js"></script>
</head>
<body>
  <header class="nav">
    <div class="brand">üéÆ Online Hry IS</div>
    <nav>
      <a href="index.php">Dom≈Ø</a>
      <a href="register.php" aria-current="page">Registrace</a>
      <a href="login.php">P≈ôihl√°≈°en√≠</a>
    </nav>
  </header>

  <main class="container">
    <section class="card">
      <h1>Registrace</h1>
      <form method="post" action="../actions/register_action.php" enctype="multipart/form-data" id="registerForm" novalidate onsubmit="return true;">
        <input type="hidden" name="csrf" value="<?= htmlspecialchars(ensure_csrf()) ?>">
        <div class="grid grid-2">
          <div>
            <label>Jm√©no
              <input required name="first_name" maxlength="50" placeholder="Alex" />
            </label>
            <label>P≈ô√≠jmen√≠
              <input required name="last_name" maxlength="50" placeholder="Nov√°kov√°" />
            </label>
            <label>Email
              <input required type="email" name="email" maxlength="120" placeholder="alex@example.com" />
            </label>
            <label>Telefon
              <input required type="tel" name="phone" maxlength="20" pattern="\+?[0-9\s-]{7,20}" placeholder="+420 777 123 456" />
            </label>
            <label>Pohlav√≠
              <select name="gender" required>
                <option value="" disabled selected>Vyberte‚Ä¶</option>
                <option value="male">Mu≈æ</option>
                <option value="female">≈Ωena</option>
                <option value="other">Jin√©</option>
              </select>
            </label>
          </div>
          <div>
            <label>Login
              <input required name="login" pattern="[A-Za-z0-9_]{4,30}" placeholder="player01" />
            </label>
            <label>Heslo
              <input required type="password" name="password" minlength="10" placeholder="min. 10 znak≈Ø" />
            </label>
            <label>Heslo znovu
              <input required type="password" name="password2" minlength="10" placeholder="potvrzen√≠ hesla" />
            </label>
            <label>Profilov√° fotografie (JPEG/PNG/GIF/BMP)
              <input required type="file" name="photo" accept="image/jpeg,image/png,image/gif,image/bmp" />
            </label>
          </div>
        </div>
        <div class="actions">
          <button type="submit">Registrovat</button>
          <a class="link" href="login.php">M√°m √∫ƒçet ‚Üí P≈ôihl√°≈°en√≠</a>
        </div>
      </form>
      <p class="hint"></p>
    </section>
  </main>
</body>
</html>
